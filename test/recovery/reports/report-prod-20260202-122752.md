# Recovery Test Report

- **Date:** 2026-02-02T12:27:52+01:00
- **Profile:** prod
- **State Dir:** ~/.openclaw
- **Branch:** release/memory-v1
- **Commit:** 9dfc252cc

---

## Test Results

### Summary

| Metric | Value |
|--------|-------|
| **Result** | âœ… PASS |
| **Passed** | 24 |
| **Failed** | 0
0 |
| **Skipped** | 0
0 |

---

## P0 â€” E2E Scenarios

| Test | Status |
|------|--------|
| Full backup â†’ restore | âš ï¸ |
| Config guardrail | âš ï¸ |
| Telegram restoration | âš ï¸ |

## P1 â€” Integration

| Test | Status |
|------|--------|
| Backup completeness | âš ï¸ |
| Restore idempotency | âš ï¸ |

## P2 â€” Smoke Tests

| Test | Status |
|------|--------|
| Verify-env | âš ï¸ |
| Cron health | âš ï¸ |

---

## Paths

- **Backup Dir:** ~/openclaw-ops/backups/
- **State Dir:** ~/.openclaw
- **Report:** /Users/ss/moltbot/test/recovery/reports/report-prod-20260202-122752.md

---

## Raw Output

```

[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/ss/moltbot[39m

 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22mcreates backup from prod state[32m 1[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22mrestores backup to test state dir[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22mgateway preflight passes after restore[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22mcron jobs exist after restore[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22msessions restored[32m 5[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m1) Full backup â†’ full restore[2m > [22mmemory DBs exist after restore[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m2) Config guardrail[2m > [22mgateway.mode is preserved after config write[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m2) Config guardrail[2m > [22mgateway.auth.token is preserved after config write[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m2) Config guardrail[2m > [22mconfig write does not lose required fields[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m3) Telegram restoration[2m > [22mtelegram token exists in config or file[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP0 â€” E2E scenarios (required)[2m > [22m3) Telegram restoration[2m > [22mtelegram channel is enabled in config[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mbackup contains openclaw.json[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mbackup contains cron[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mbackup contains telegram[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mbackup contains memory[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mbackup contains agents[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22mmemory/facts.db or memory/main.sqlite exists[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m4) Backup completeness[2m > [22magents sessions exist[32m 5[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP1 â€” Integration tests[2m > [22m5) Restore idempotency[2m > [22mdouble restore produces identical files[32m 186[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP2 â€” Smoke tests[2m > [22m6) Verify-env[2m > [22mstate dir exists and is valid[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP2 â€” Smoke tests[2m > [22m6) Verify-env[2m > [22mUI build exists[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP2 â€” Smoke tests[2m > [22m7) Cron health[2m > [22mcron jobs.json exists and is valid JSON[32m 1[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP2 â€” Smoke tests[2m > [22m7) Cron health[2m > [22mcron jobs have lastRunAtMs in state[32m 0[2mms[22m[39m
 [32mâœ“[39m test/recovery/recovery.test.ts[2m > [22mP2 â€” Smoke tests[2m > [22m7) Cron health[2m > [22mcron runs directory exists[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m24 passed[39m[22m[90m (24)[39m
[2m   Start at [22m 12:27:52
[2m   Duration [22m 466ms[2m (transform 16ms, setup 0ms, import 23ms, tests 384ms, environment 0ms)[22m
```
